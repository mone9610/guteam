# CONSIDERATIONS
## このドキュメントについて
愚痴〜ムに関する色々な検討事項を記載する。
## 機能要件
- ログイン機能
- プロフィール機能
- タイムライン機能
- コミュニティ機能
- チーム機能
- ダイレクト機能
- ページタイトル表示機能
- お知らせ機能
- ぐちとも機能
- 行動分析機能
- ネガティブスコア算出機能
- 広告機能

## 非機能要件
- 可用性  
SLOなどは定量的指標として定めない。商用サービスにする際に再検討する。
- 性能  
定量的指標は定めない。ユーザーが、「明らかに遅い」と感じるレベルでのサービス提供は避ける。
- 拡張性  
商用利用時のユーザー増加に備え、パブリッククラウドを利用する。
- 運用  
24/365  
- 監視・通知  
L7サービス継続監視を実施し、通知は出先でも確認できるようにする
- 保守性  
CI/CDパイプラインの導入、およびフロントエンド、バックエンド、インフラの標準的技術を利用することにより、  
迅速な機能追加と不具合修正を行えるようにする。
- セキュリティ  
    - 伝送データ:https化により内容を秘匿
    - 蓄積データ:個人情報をDBに含む際は、文字列を暗号化する
    - アクセスログの取得
    - アプリケーションへの認証/認可の導入
    - 各種攻撃への標準的対策
- 運用コスト  
商用利用前は、月100USD程度に抑える

## 設計
- インフラ  
本番環境には、AWSを利用する。  
->標準的技術の採用により、保守性を高める。  
開発環境には、dockerを利用する。  
->本番環境を模した環境を開発PCで再現するため。
- 画面  
手書きの設計書およびDraw.ioを利用する。  

- 言語  
    - フロントエンド  
    React & TypeScript
    - バックエンド  
    Ruby on Rails
    - インフラ  
    MySQL,S3,ECSなど
- 開発フロー  
GitHub Flow  
## テスト
- React  
    - Static  
    TypeScriptとLinterを利用しているため、､コンパイルに成功することを条件とする
    - Unit  
    コミュニティ機能以降の開発は、Jestを利用し、APIハンドラの正常系と異常系のテストスイートとテストケースを記載する
    - Integration  
    コンポーネントごとの UI のテストは不要とする。ブラウザ上でデバッグする際に確認できるため。
    - E2Eテスト  
    コミュニティ機能以降の開発は、Cypressを利用し、正常系のテストスイートとテストケースを記載する。
- Rails
    - Model  
    RSpecを利用し、バリデーションの正常系と異常系を確認をする
    - Controller  
    各メソッドの正常系と異常系を確認をする
    - Request  
    RSpecを利用し、正常系と異常系を確認をする
- 総合テスト  
  React,Railsの自動テストにクリアした場合のみデプロイを許可する。  
  デプロイ後は念の為、目検でブラウザで確認する。



